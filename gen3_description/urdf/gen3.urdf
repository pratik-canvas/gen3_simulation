<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from urdf_xacro/gen3.urdf.xacro     | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!--
Software License Agreement (BSD)
\file      gen3.urdf.xacro
\authors   Pratik Gyawali <pratik@canvas.build>
\copyright Copyright (c) 2021, Canvas Construction, Inc., All rights reserved.
Redistribution and use in source and binary forms, with or without modification, are permitted provided that
the following conditions are met:
 * Redistributions of source code must retain the above copyright notice, this list of conditions and the
   following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the
   following disclaimer in the documentation and/or other materials provided with the distribution.
 * Neither the name of Canvas Construction nor the names of its contributors may be used to endorse or promote
   products derived from this software without specific prior written permission.
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WAR-
RANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, IN-
DIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<robot name="gen3">
  <link name="dummy">
</link>
  <link name="base_link">
    <inertial>
      <mass value="100"/>
      <inertia ixx="1.8918749999999998" ixy="0" ixz="0" iyy="15.385208333333336" iyz="0" izz="16.433333333333334"/>
    </inertial>
    <visual>
      <geometry>
        <box size="1.34 0.42 0.225"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.15"/>
    </visual>
    <collision>
      <geometry>
        <box size="1.34 0.42 0.225"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.15"/>
    </collision>
  </link>
  <link name="imu_link">
    <visual>
      <geometry>
        <box size="0.02 0.02 0.02"/>
      </geometry>
    </visual>
  </link>
  <joint name="dummy_joint" type="fixed">
    <parent link="dummy"/>
    <child link="base_link"/>
  </joint>
  <joint name="imu_joint" type="fixed">
    <parent link="base_link"/>
    <child link="imu_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.2"/>
  </joint>
  <!-- Gen3 Track macros -->
  <!-- -->
  <!--                                                                                       -->
  <!-- macros for making track                                                               -->
  <!--     * useful when difining entities for ContinuousTrack plugin                        -->
  <!--     * see gazebo_continuous_track_example/urdf/example_track.urdf.xacro to know usage -->
  <!--                                                                                       -->
  <!-- macros which expand to box/polyline collision and visual. convenient when defining pattern elements on a track -->
  <!-- macros for populating general links/joints -->
  <!-- track segment templates which can be used with above population macros -->
  <!-- macros for populating track segments with above population macros and above templates -->
  <!-- macro which expands to plugin definition -->
  <!-- main entry point: macro for making oval track by ContinuousTrack plugin -->
  <!-- -->
  <gazebo>
    <link name="right_track_straight_segment_link0">
      <pose>-0.6 -0.32 0.12 0 0 0</pose>
      <inertial>
        <pose>0.6 0 -0.06 0 0 0</pose>
        <mass>6.75</mass>
        <inertia>
          <ixx>0.026324999999999998</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.8180999999999999</iyy>
          <iyz>0</iyz>
          <izz>0.8282249999999999</izz>
        </inertia>
      </inertial>
      <collision name="collision">
        <pose>0.6 0 -0.06 0 0 0</pose>
        <geometry>
          <box>
            <size>1.2 0.18 0.12</size>
          </box>
        </geometry>
        <surface>
          <friction>
            <ode>
              <mu>10</mu>
              <mu2>10</mu2>
            </ode>
          </friction>
          <contact>
            <ode>
              <min_depth>0.01</min_depth>
            </ode>
          </contact>
        </surface>
      </collision>
      <visual name="visual">
        <pose>0.6 0 -0.06 0 0 0</pose>
        <geometry>
          <box>
            <size>1.2 0.18 0.12</size>
          </box>
        </geometry>
        <material>
          <ambient>0.1 0.1 0.1 1</ambient>
          <diffuse>0.2 0.2 0.2 1</diffuse>
          <specular>0 0 0 1</specular>
          <emissive>0 0 0 1</emissive>
        </material>
      </visual>
    </link>
  </gazebo>
  <gazebo>
    <link name="right_track_straight_segment_link1">
      <pose>0.6 -0.32 -0.12 0 3.141592653589793 0</pose>
      <inertial>
        <pose>0.6 0 -0.06 0 0 0</pose>
        <mass>6.75</mass>
        <inertia>
          <ixx>0.026324999999999998</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.8180999999999999</iyy>
          <iyz>0</iyz>
          <izz>0.8282249999999999</izz>
        </inertia>
      </inertial>
      <collision name="collision">
        <pose>0.6 0 -0.06 0 0 0</pose>
        <geometry>
          <box>
            <size>1.2 0.18 0.12</size>
          </box>
        </geometry>
        <surface>
          <friction>
            <ode>
              <mu>10</mu>
              <mu2>10</mu2>
            </ode>
          </friction>
          <contact>
            <ode>
              <min_depth>0.01</min_depth>
            </ode>
          </contact>
        </surface>
      </collision>
      <visual name="visual">
        <pose>0.6 0 -0.06 0 0 0</pose>
        <geometry>
          <box>
            <size>1.2 0.18 0.12</size>
          </box>
        </geometry>
        <material>
          <ambient>0.1 0.1 0.1 1</ambient>
          <diffuse>0.2 0.2 0.2 1</diffuse>
          <specular>0 0 0 1</specular>
          <emissive>0 0 0 1</emissive>
        </material>
      </visual>
    </link>
  </gazebo>
  <gazebo>
    <joint name="right_track_straight_segment_joint0" type="prismatic">
      <child>right_track_straight_segment_link0</child>
      <parent>right_body</parent>
      <axis>
        <xyz>1 0 0</xyz>
        <use_parent_model_frame>0</use_parent_model_frame>
      </axis>
      <physics>
        <ode>
          <implicit_spring_damper>1</implicit_spring_damper>
        </ode>
      </physics>
    </joint>
  </gazebo>
  <gazebo>
    <joint name="right_track_straight_segment_joint1" type="prismatic">
      <child>right_track_straight_segment_link1</child>
      <parent>right_body</parent>
      <axis>
        <xyz>1 0 0</xyz>
        <use_parent_model_frame>0</use_parent_model_frame>
      </axis>
      <physics>
        <ode>
          <implicit_spring_damper>1</implicit_spring_damper>
        </ode>
      </physics>
    </joint>
  </gazebo>
  <gazebo>
    <link name="right_track_arc_segment_link0">
      <pose>0.6 -0.32 0.12 0 0 0</pose>
      <inertial>
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <mass>6.75</mass>
        <inertia>
          <ixx>0.042525</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.042525</iyy>
          <iyz>0</iyz>
          <izz>0.0486</izz>
        </inertia>
      </inertial>
      <collision name="collision">
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.18</length>
            <radius>0.12</radius>
          </cylinder>
        </geometry>
        <surface>
          <friction>
            <ode>
              <mu>10</mu>
              <mu2>10</mu2>
            </ode>
          </friction>
          <contact>
            <ode>
              <min_depth>0.01</min_depth>
            </ode>
          </contact>
        </surface>
      </collision>
      <visual name="visual">
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.18</length>
            <radius>0.12</radius>
          </cylinder>
        </geometry>
        <material>
          <ambient>0.1 0.1 0.1 1</ambient>
          <diffuse>0.2 0.2 0.2 1</diffuse>
          <specular>0 0 0 1</specular>
          <emissive>0 0 0 1</emissive>
        </material>
      </visual>
    </link>
  </gazebo>
  <gazebo>
    <link name="right_track_arc_segment_link1">
      <pose>-0.6 -0.32 -0.12 0 3.141592653589793 0</pose>
      <inertial>
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <mass>6.75</mass>
        <inertia>
          <ixx>0.042525</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.042525</iyy>
          <iyz>0</iyz>
          <izz>0.0486</izz>
        </inertia>
      </inertial>
      <collision name="collision">
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.18</length>
            <radius>0.12</radius>
          </cylinder>
        </geometry>
        <surface>
          <friction>
            <ode>
              <mu>10</mu>
              <mu2>10</mu2>
            </ode>
          </friction>
          <contact>
            <ode>
              <min_depth>0.01</min_depth>
            </ode>
          </contact>
        </surface>
      </collision>
      <visual name="visual">
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.18</length>
            <radius>0.12</radius>
          </cylinder>
        </geometry>
        <material>
          <ambient>0.1 0.1 0.1 1</ambient>
          <diffuse>0.2 0.2 0.2 1</diffuse>
          <specular>0 0 0 1</specular>
          <emissive>0 0 0 1</emissive>
        </material>
      </visual>
    </link>
  </gazebo>
  <gazebo>
    <joint name="right_track_arc_segment_joint0" type="revolute">
      <child>right_track_arc_segment_link0</child>
      <parent>right_body</parent>
      <pose>0 0 -0.12 0 0 0</pose>
      <axis>
        <xyz>0 1 0</xyz>
        <use_parent_model_frame>0</use_parent_model_frame>
      </axis>
      <physics>
        <ode>
          <implicit_spring_damper>1</implicit_spring_damper>
        </ode>
      </physics>
    </joint>
  </gazebo>
  <gazebo>
    <joint name="right_track_arc_segment_joint1" type="revolute">
      <child>right_track_arc_segment_link1</child>
      <parent>right_body</parent>
      <pose>0 0 -0.12 0 0 0</pose>
      <axis>
        <xyz>0 1 0</xyz>
        <use_parent_model_frame>0</use_parent_model_frame>
      </axis>
      <physics>
        <ode>
          <implicit_spring_damper>1</implicit_spring_damper>
        </ode>
      </physics>
    </joint>
  </gazebo>
  <gazebo>
    <plugin filename="libContinuousTrack.so" name="right_track">
      <sprocket>
        <joint>right_sprocket_axle</joint>
        <pitch_diameter>0.22</pitch_diameter>
      </sprocket>
      <trajectory>
        <segment>
          <joint>right_track_straight_segment_joint0</joint>
          <end_position>1.2</end_position>
        </segment>
        <segment>
          <joint>right_track_arc_segment_joint0</joint>
          <end_position>3.141592653589793</end_position>
        </segment>
        <segment>
          <joint>right_track_straight_segment_joint1</joint>
          <end_position>1.2</end_position>
        </segment>
        <segment>
          <joint>right_track_arc_segment_joint1</joint>
          <end_position>3.141592653589793</end_position>
        </segment>
      </trajectory>
      <pattern>
        <elements_per_round>40</elements_per_round>
        <!-- <element>
							 <xacro:make_box_element pose="0 0 0 0 0 0" size="0.02 0.18 0.02">
									 <xacro:insert_block name="track_material" />
							 </xacro:make_box_element>
					 </element> -->
        <element>
          <collision name="collision">
            <pose>0 0.09 0 1.5707963267948966 0 0</pose>
            <geometry>
              <polyline>
                <point>-0.02 -0.01</point>
                <point>-0.01 0.01</point>
                <point>0.01 0.01</point>
                <point>0.02 -0.01</point>
                <height>0.18</height>
              </polyline>
            </geometry>
            <surface>
              <friction>
                <ode>
                  <mu>10</mu>
                  <mu2>10</mu2>
                </ode>
              </friction>
              <contact>
                <ode>
                  <min_depth>0.01</min_depth>
                </ode>
              </contact>
            </surface>
          </collision>
          <visual name="visual">
            <pose>0 0.09 0 1.5707963267948966 0 0</pose>
            <geometry>
              <polyline>
                <point>-0.02 -0.01</point>
                <point>-0.01 0.01</point>
                <point>0.01 0.01</point>
                <point>0.02 -0.01</point>
                <height>0.18</height>
              </polyline>
            </geometry>
            <material>
              <ambient>0.1 0.1 0.1 1</ambient>
              <diffuse>0.2 0.2 0.2 1</diffuse>
              <specular>0 0 0 1</specular>
              <emissive>0 0 0 1</emissive>
            </material>
          </visual>
        </element>
      </pattern>
    </plugin>
  </gazebo>
  <!-- URDF file for general ROS systems such as ros_control, rviz, etc.           -->
  <!-- We define here;                                                             -->
  <!--     * a body to be wrapped by the track                                     -->
  <!--     * a sprocket to drive the track                                         -->
  <!--     * an axle and actuator for the sprocket                                 -->
  <!--     * an idler wheel on the other side of the sprocket                      -->
  <!-- Other entities specialized for Gazebo are defined in *_gazebo.urdf.xacro .  -->
  <!-- body to be wrapped by the track -->
  <link name="right_body">
    <inertial>
      <mass value="5"/>
      <inertia ixx="0.03170833333333333" ixy="0" ixz="0" iyy="0.3541666666666667" iyz="0" izz="0.3525416666666667"/>
    </inertial>
    <visual>
      <geometry>
        <box size="0.9 0.19 0.2"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <box size="0.9 0.19 0.2"/>
      </geometry>
    </collision>
  </link>
  <!-- sprocket driving the track -->
  <link name="right_sprocket">
    <inertial>
      <mass value="1"/>
      <!-- assuming axis of cylinder is y, not z -->
      <inertia ixx="0.004608333333333333" ixy="0" ixz="0" iyy="0.0032" iyz="0" izz="0.004608333333333333"/>
    </inertial>
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.19" radius="0.08"/>
      </geometry>
    </visual>
    <visual>
      <geometry>
        <box size="0.01 0.19 0.20"/>
      </geometry>
    </visual>
    <visual>
      <geometry>
        <box size="0.20 0.19 0.01"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.19" radius="0.08"/>
      </geometry>
    </collision>
  </link>
  <joint name="right_sprocket_axle" type="continuous">
    <origin rpy="0 0 0" xyz="0.585 0 0"/>
    <parent link="right_body"/>
    <child link="right_sprocket"/>
    <axis xyz="0 1 0"/>
  </joint>
  <transmission name="right_sprocket_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="right_sprocket_axle">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="right_sprocket_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- idler on the other side of the sprocket -->
  <link name="right_idler">
    <inertial>
      <mass value="0.5"/>
      <!-- assuming axis of cylinder is y, not z -->
      <inertia ixx="0.0023041666666666666" ixy="0" ixz="0" iyy="0.0016" iyz="0" izz="0.0023041666666666666"/>
    </inertial>
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.19" radius="0.08"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.19" radius="0.08"/>
      </geometry>
    </collision>
  </link>
  <joint name="right_idler_axle" type="fixed">
    <origin rpy="0 0 0" xyz="-0.585 0 0"/>
    <parent link="right_body"/>
    <child link="right_idler"/>
  </joint>
  <joint name="right_body_joint" type="fixed">
    <parent link="base_link"/>
    <child link="right_body"/>
    <origin rpy="0 0 0" xyz="0 -0.32 0"/>
  </joint>
  <!-- -->
  <!--                                                                                       -->
  <!-- macros for making track                                                               -->
  <!--     * useful when difining entities for ContinuousTrack plugin                        -->
  <!--     * see gazebo_continuous_track_example/urdf/example_track.urdf.xacro to know usage -->
  <!--                                                                                       -->
  <!-- macros which expand to box/polyline collision and visual. convenient when defining pattern elements on a track -->
  <!-- macros for populating general links/joints -->
  <!-- track segment templates which can be used with above population macros -->
  <!-- macros for populating track segments with above population macros and above templates -->
  <!-- macro which expands to plugin definition -->
  <!-- main entry point: macro for making oval track by ContinuousTrack plugin -->
  <!-- -->
  <gazebo>
    <link name="left_track_straight_segment_link0">
      <pose>-0.6 0.32 0.12 0 0 0</pose>
      <inertial>
        <pose>0.6 0 -0.06 0 0 0</pose>
        <mass>6.75</mass>
        <inertia>
          <ixx>0.026324999999999998</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.8180999999999999</iyy>
          <iyz>0</iyz>
          <izz>0.8282249999999999</izz>
        </inertia>
      </inertial>
      <collision name="collision">
        <pose>0.6 0 -0.06 0 0 0</pose>
        <geometry>
          <box>
            <size>1.2 0.18 0.12</size>
          </box>
        </geometry>
        <surface>
          <friction>
            <ode>
              <mu>10</mu>
              <mu2>10</mu2>
            </ode>
          </friction>
          <contact>
            <ode>
              <min_depth>0.01</min_depth>
            </ode>
          </contact>
        </surface>
      </collision>
      <visual name="visual">
        <pose>0.6 0 -0.06 0 0 0</pose>
        <geometry>
          <box>
            <size>1.2 0.18 0.12</size>
          </box>
        </geometry>
        <material>
          <ambient>0.1 0.1 0.1 1</ambient>
          <diffuse>0.2 0.2 0.2 1</diffuse>
          <specular>0 0 0 1</specular>
          <emissive>0 0 0 1</emissive>
        </material>
      </visual>
    </link>
  </gazebo>
  <gazebo>
    <link name="left_track_straight_segment_link1">
      <pose>0.6 0.32 -0.12 0 3.141592653589793 0</pose>
      <inertial>
        <pose>0.6 0 -0.06 0 0 0</pose>
        <mass>6.75</mass>
        <inertia>
          <ixx>0.026324999999999998</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.8180999999999999</iyy>
          <iyz>0</iyz>
          <izz>0.8282249999999999</izz>
        </inertia>
      </inertial>
      <collision name="collision">
        <pose>0.6 0 -0.06 0 0 0</pose>
        <geometry>
          <box>
            <size>1.2 0.18 0.12</size>
          </box>
        </geometry>
        <surface>
          <friction>
            <ode>
              <mu>10</mu>
              <mu2>10</mu2>
            </ode>
          </friction>
          <contact>
            <ode>
              <min_depth>0.01</min_depth>
            </ode>
          </contact>
        </surface>
      </collision>
      <visual name="visual">
        <pose>0.6 0 -0.06 0 0 0</pose>
        <geometry>
          <box>
            <size>1.2 0.18 0.12</size>
          </box>
        </geometry>
        <material>
          <ambient>0.1 0.1 0.1 1</ambient>
          <diffuse>0.2 0.2 0.2 1</diffuse>
          <specular>0 0 0 1</specular>
          <emissive>0 0 0 1</emissive>
        </material>
      </visual>
    </link>
  </gazebo>
  <gazebo>
    <joint name="left_track_straight_segment_joint0" type="prismatic">
      <child>left_track_straight_segment_link0</child>
      <parent>left_body</parent>
      <axis>
        <xyz>1 0 0</xyz>
        <use_parent_model_frame>0</use_parent_model_frame>
      </axis>
      <physics>
        <ode>
          <implicit_spring_damper>1</implicit_spring_damper>
        </ode>
      </physics>
    </joint>
  </gazebo>
  <gazebo>
    <joint name="left_track_straight_segment_joint1" type="prismatic">
      <child>left_track_straight_segment_link1</child>
      <parent>left_body</parent>
      <axis>
        <xyz>1 0 0</xyz>
        <use_parent_model_frame>0</use_parent_model_frame>
      </axis>
      <physics>
        <ode>
          <implicit_spring_damper>1</implicit_spring_damper>
        </ode>
      </physics>
    </joint>
  </gazebo>
  <gazebo>
    <link name="left_track_arc_segment_link0">
      <pose>0.6 0.32 0.12 0 0 0</pose>
      <inertial>
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <mass>6.75</mass>
        <inertia>
          <ixx>0.042525</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.042525</iyy>
          <iyz>0</iyz>
          <izz>0.0486</izz>
        </inertia>
      </inertial>
      <collision name="collision">
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.18</length>
            <radius>0.12</radius>
          </cylinder>
        </geometry>
        <surface>
          <friction>
            <ode>
              <mu>10</mu>
              <mu2>10</mu2>
            </ode>
          </friction>
          <contact>
            <ode>
              <min_depth>0.01</min_depth>
            </ode>
          </contact>
        </surface>
      </collision>
      <visual name="visual">
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.18</length>
            <radius>0.12</radius>
          </cylinder>
        </geometry>
        <material>
          <ambient>0.1 0.1 0.1 1</ambient>
          <diffuse>0.2 0.2 0.2 1</diffuse>
          <specular>0 0 0 1</specular>
          <emissive>0 0 0 1</emissive>
        </material>
      </visual>
    </link>
  </gazebo>
  <gazebo>
    <link name="left_track_arc_segment_link1">
      <pose>-0.6 0.32 -0.12 0 3.141592653589793 0</pose>
      <inertial>
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <mass>6.75</mass>
        <inertia>
          <ixx>0.042525</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.042525</iyy>
          <iyz>0</iyz>
          <izz>0.0486</izz>
        </inertia>
      </inertial>
      <collision name="collision">
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.18</length>
            <radius>0.12</radius>
          </cylinder>
        </geometry>
        <surface>
          <friction>
            <ode>
              <mu>10</mu>
              <mu2>10</mu2>
            </ode>
          </friction>
          <contact>
            <ode>
              <min_depth>0.01</min_depth>
            </ode>
          </contact>
        </surface>
      </collision>
      <visual name="visual">
        <pose>0 0 -0.12 1.5707963267948966 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.18</length>
            <radius>0.12</radius>
          </cylinder>
        </geometry>
        <material>
          <ambient>0.1 0.1 0.1 1</ambient>
          <diffuse>0.2 0.2 0.2 1</diffuse>
          <specular>0 0 0 1</specular>
          <emissive>0 0 0 1</emissive>
        </material>
      </visual>
    </link>
  </gazebo>
  <gazebo>
    <joint name="left_track_arc_segment_joint0" type="revolute">
      <child>left_track_arc_segment_link0</child>
      <parent>left_body</parent>
      <pose>0 0 -0.12 0 0 0</pose>
      <axis>
        <xyz>0 1 0</xyz>
        <use_parent_model_frame>0</use_parent_model_frame>
      </axis>
      <physics>
        <ode>
          <implicit_spring_damper>1</implicit_spring_damper>
        </ode>
      </physics>
    </joint>
  </gazebo>
  <gazebo>
    <joint name="left_track_arc_segment_joint1" type="revolute">
      <child>left_track_arc_segment_link1</child>
      <parent>left_body</parent>
      <pose>0 0 -0.12 0 0 0</pose>
      <axis>
        <xyz>0 1 0</xyz>
        <use_parent_model_frame>0</use_parent_model_frame>
      </axis>
      <physics>
        <ode>
          <implicit_spring_damper>1</implicit_spring_damper>
        </ode>
      </physics>
    </joint>
  </gazebo>
  <gazebo>
    <plugin filename="libContinuousTrack.so" name="left_track">
      <sprocket>
        <joint>left_sprocket_axle</joint>
        <pitch_diameter>0.22</pitch_diameter>
      </sprocket>
      <trajectory>
        <segment>
          <joint>left_track_straight_segment_joint0</joint>
          <end_position>1.2</end_position>
        </segment>
        <segment>
          <joint>left_track_arc_segment_joint0</joint>
          <end_position>3.141592653589793</end_position>
        </segment>
        <segment>
          <joint>left_track_straight_segment_joint1</joint>
          <end_position>1.2</end_position>
        </segment>
        <segment>
          <joint>left_track_arc_segment_joint1</joint>
          <end_position>3.141592653589793</end_position>
        </segment>
      </trajectory>
      <pattern>
        <elements_per_round>40</elements_per_round>
        <!-- <element>
							 <xacro:make_box_element pose="0 0 0 0 0 0" size="0.02 0.18 0.02">
									 <xacro:insert_block name="track_material" />
							 </xacro:make_box_element>
					 </element> -->
        <element>
          <collision name="collision">
            <pose>0 0.09 0 1.5707963267948966 0 0</pose>
            <geometry>
              <polyline>
                <point>-0.02 -0.01</point>
                <point>-0.01 0.01</point>
                <point>0.01 0.01</point>
                <point>0.02 -0.01</point>
                <height>0.18</height>
              </polyline>
            </geometry>
            <surface>
              <friction>
                <ode>
                  <mu>10</mu>
                  <mu2>10</mu2>
                </ode>
              </friction>
              <contact>
                <ode>
                  <min_depth>0.01</min_depth>
                </ode>
              </contact>
            </surface>
          </collision>
          <visual name="visual">
            <pose>0 0.09 0 1.5707963267948966 0 0</pose>
            <geometry>
              <polyline>
                <point>-0.02 -0.01</point>
                <point>-0.01 0.01</point>
                <point>0.01 0.01</point>
                <point>0.02 -0.01</point>
                <height>0.18</height>
              </polyline>
            </geometry>
            <material>
              <ambient>0.1 0.1 0.1 1</ambient>
              <diffuse>0.2 0.2 0.2 1</diffuse>
              <specular>0 0 0 1</specular>
              <emissive>0 0 0 1</emissive>
            </material>
          </visual>
        </element>
      </pattern>
    </plugin>
  </gazebo>
  <!-- URDF file for general ROS systems such as ros_control, rviz, etc.           -->
  <!-- We define here;                                                             -->
  <!--     * a body to be wrapped by the track                                     -->
  <!--     * a sprocket to drive the track                                         -->
  <!--     * an axle and actuator for the sprocket                                 -->
  <!--     * an idler wheel on the other side of the sprocket                      -->
  <!-- Other entities specialized for Gazebo are defined in *_gazebo.urdf.xacro .  -->
  <!-- body to be wrapped by the track -->
  <link name="left_body">
    <inertial>
      <mass value="5"/>
      <inertia ixx="0.03170833333333333" ixy="0" ixz="0" iyy="0.3541666666666667" iyz="0" izz="0.3525416666666667"/>
    </inertial>
    <visual>
      <geometry>
        <box size="0.9 0.19 0.2"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <box size="0.9 0.19 0.2"/>
      </geometry>
    </collision>
  </link>
  <!-- sprocket driving the track -->
  <link name="left_sprocket">
    <inertial>
      <mass value="1"/>
      <!-- assuming axis of cylinder is y, not z -->
      <inertia ixx="0.004608333333333333" ixy="0" ixz="0" iyy="0.0032" iyz="0" izz="0.004608333333333333"/>
    </inertial>
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.19" radius="0.08"/>
      </geometry>
    </visual>
    <visual>
      <geometry>
        <box size="0.01 0.19 0.20"/>
      </geometry>
    </visual>
    <visual>
      <geometry>
        <box size="0.20 0.19 0.01"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.19" radius="0.08"/>
      </geometry>
    </collision>
  </link>
  <joint name="left_sprocket_axle" type="continuous">
    <origin rpy="0 0 0" xyz="0.585 0 0"/>
    <parent link="left_body"/>
    <child link="left_sprocket"/>
    <axis xyz="0 1 0"/>
  </joint>
  <transmission name="left_sprocket_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="left_sprocket_axle">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="left_sprocket_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- idler on the other side of the sprocket -->
  <link name="left_idler">
    <inertial>
      <mass value="0.5"/>
      <!-- assuming axis of cylinder is y, not z -->
      <inertia ixx="0.0023041666666666666" ixy="0" ixz="0" iyy="0.0016" iyz="0" izz="0.0023041666666666666"/>
    </inertial>
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.19" radius="0.08"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.19" radius="0.08"/>
      </geometry>
    </collision>
  </link>
  <joint name="left_idler_axle" type="fixed">
    <origin rpy="0 0 0" xyz="-0.585 0 0"/>
    <parent link="left_body"/>
    <child link="left_idler"/>
  </joint>
  <joint name="left_body_joint" type="fixed">
    <parent link="base_link"/>
    <child link="left_body"/>
    <origin rpy="0 0 0" xyz="0 0.32 0"/>
  </joint>
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>/</robotNamespace>
      <legacyModeNS>true</legacyModeNS>
    </plugin>
  </gazebo>
  <gazebo reference="imu_link">
    <gravity>true</gravity>
    <sensor name="imu_sensor" type="imu">
      <imu>
        <angular_velocity>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
              <bias_mean>0.0000075</bias_mean>
              <bias_stddev>0.0000008</bias_stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
              <bias_mean>0.0000075</bias_mean>
              <bias_stddev>0.0000008</bias_stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
              <bias_mean>0.0000075</bias_mean>
              <bias_stddev>0.0000008</bias_stddev>
            </noise>
          </z>
        </angular_velocity>
        <linear_acceleration>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
              <bias_mean>0.1</bias_mean>
              <bias_stddev>0.001</bias_stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
              <bias_mean>0.1</bias_mean>
              <bias_stddev>0.001</bias_stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
              <bias_mean>0.1</bias_mean>
              <bias_stddev>0.001</bias_stddev>
            </noise>
          </z>
        </linear_acceleration>
      </imu>
      <always_on>true</always_on>
      <update_rate>100</update_rate>
      <visualize>true</visualize>
      <topic>__default_topic__</topic>
      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
        <topicName>imu</topicName>
        <bodyName>imu_link</bodyName>
        <updateRateHZ>10.0</updateRateHZ>
        <gaussianNoise>0.0</gaussianNoise>
        <xyzOffset>0 0 0</xyzOffset>
        <rpyOffset>0 0 0</rpyOffset>
        <frameName>imu_link</frameName>
        <initialOrientationAsReference>false</initialOrientationAsReference>
      </plugin>
      <pose>0 0 0.5 0 0 0</pose>
    </sensor>
  </gazebo>
</robot>
